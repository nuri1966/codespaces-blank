import { useState } from 'react';

interface CalculatorState {
  num1: string;
  num2: string;
  operation: string;
  result: string;
}

const Calculator = () => {
  const [state, setState] = useState<CalculatorState>({
    num1: '',
    num2: '',
    operation: '',
    result: '',
  });

  const handleNumberClick = (num: string) => {
    if (state.operation === '') {
      setState({ ...state, num1: state.num1 + num });
    } else {
      setState({ ...state, num2: state.num2 + num });
    }
  };

  const handleOperationClick = (operation: string) => {
    setState({ ...state, operation });
  };

  const handleEqualsClick = () => {
    const num1 = parseFloat(state.num1);
    const num2 = parseFloat(state.num2);
    let result: number;

    switch (state.operation) {
      case '+':
        result = num1 + num2;
        break;
      case '-':
        result = num1 - num2;
        break;
      case '*':
        result = num1 * num2;
        break;
      case '/':
        result = num1 / num2;
        break;
      default:
        result = 0;
    }

    setState({ ...state, result: result.toString() });
  };

  const handleClearClick = () => {
    setState({
      num1: '',
      num2: '',
      operation: '',
      result: '',
    });
  };

  return (
    <div className="max-w-md mx-auto p-4 bg-gray-100 rounded-md shadow-md">
      <div className="flex justify-end mb-4">
        <input
          type="text"
          value={state.result || state.num1 + state.operation + state.num2}
          className="w-full text-right text-2xl font-bold bg-gray-100 border-0"
          readOnly
        />
      </div>
      <div className="grid grid-cols-4 gap-2">
        <button
          className="p-4 bg-gray-200 rounded-md hover:bg-gray-300"
          onClick={() => handleNumberClick('7')}
        >
          7
        </button>
        <button
          className="p-4 bg-gray-200 rounded-md hover:bg-gray-300"
          onClick={() => handleNumberClick('8')}
        >
          8
        </button>
        <button
          className="p-4 bg-gray-200 rounded-md hover:bg-gray-300"
          onClick={() => handleNumberClick('9')}
        >
          9
        </button>
        <button
          className="p-4 bg-orange-500 text-white rounded-md hover:bg-orange-600"
          onClick={() => handleOperationClick('/')}
        >
          /
        </button>
        <button
          className="p-4 bg-gray-200 rounded-md hover:bg-gray-300"
          onClick={() => handleNumberClick('4')}
        >
          4
        </button>
        <button
          className="p-4 bg-gray-200 rounded-md hover:bg-gray-300"
          onClick={() => handleNumberClick('5')}
        >
          5
        </button>
        <button
          className="p-4 bg-gray-200 rounded-md hover:bg-gray-300"
          onClick={() => handleNumberClick('6')}
        >
          6
        </button>
        <button
          className="p-4 bg-orange-500 text-white rounded-md hover:bg-orange-600"
          onClick={() => handleOperationClick('*')}
        >
          *
        </button>
        <button
          className="p-4 bg-gray-200 rounded-md hover:bg-gray-300"
          onClick={() => handleNumberClick('1')}
        >
          1
        </button>
        <button
          className="p-4 bg-gray-200 rounded-md hover:bg-gray-300"
          onClick={() => handleNumberClick('2')}
        >
          2
        </button>
        <button
          className="p-4 bg-gray-200 rounded-md hover:bg-gray-300"
          onClick={() => handleNumberClick('3')}
        >
          3
        </button>
        <button
          className="p-4 bg-orange-500 text-white rounded-md hover:bg-orange-600"
          onClick={() => handleOperationClick('-')}
        >
          -
        </button>
        <button
          className="p-4 bg-gray-200 rounded-md hover:bg-gray-300"
          onClick={() => handleNumberClick('0')}
        >
          0
        </button>
        <button
          className="p-4 bg-gray-200 rounded-md hover:bg-gray-300"
          onClick={handleClearClick}
        >
          C
        </button>
        <button
          className="p-4 bg-orange-500 text-white rounded-md hover:bg-orange-600"
          onClick={handleEqualsClick}
        >
          =
        </button>
        <button
          className="p-4 bg-orange-500 text-white rounded-md hover:bg-orange-600"
          onClick={() => handleOperationClick('+')}
        >
          +
        </button>
      </div>
    </div>
  );
};

export default Calculator;